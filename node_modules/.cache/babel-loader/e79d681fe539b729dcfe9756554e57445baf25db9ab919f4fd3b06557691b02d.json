{"ast":null,"code":"/**\n * Module Dependencies\n */\n\nvar debug = require('debug')('nightmare:actions');\nvar sliced = require('sliced');\nvar jsesc = require('jsesc');\nvar fs = require('fs');\n\n/**\n * Get the version info for Nightmare, Electron and Chromium.\n * @param {Function} done\n */\nexports.engineVersions = function (done) {\n  debug('.engineVersions()');\n  done(null, this.engineVersions);\n};\n\n/**\n * Get the title of the page.\n *\n * @param {Function} done\n */\n\nexports.title = function (done) {\n  debug('.title() getting it');\n  this.evaluate_now(function () {\n    return document.title;\n  }, done);\n};\n\n/**\n * Get the url of the page.\n *\n * @param {Function} done\n */\n\nexports.url = function (done) {\n  debug('.url() getting it');\n  this.evaluate_now(function () {\n    return document.location.href;\n  }, done);\n};\n\n/**\n * Get the path of the page.\n *\n * @param {Function} done\n */\n\nexports.path = function (done) {\n  debug('.path() getting it');\n  this.evaluate_now(function () {\n    return document.location.pathname;\n  }, done);\n};\n\n/**\n * Determine if a selector is visible on a page.\n *\n * @param {String} selector\n * @param {Function} done\n */\n\nexports.visible = function (selector, done) {\n  debug('.visible() for ' + selector);\n  this.evaluate_now(function (selector) {\n    var elem = document.querySelector(selector);\n    if (elem) return elem.offsetWidth > 0 && elem.offsetHeight > 0;else return false;\n  }, done, selector);\n};\n\n/**\n * Determine if a selector exists on a page.\n *\n * @param {String} selector\n * @param {Function} done\n */\n\nexports.exists = function (selector, done) {\n  debug('.exists() for ' + selector);\n  this.evaluate_now(function (selector) {\n    return document.querySelector(selector) !== null;\n  }, done, selector);\n};\n\n/**\n * Click an element.\n *\n * @param {String} selector\n * @param {Function} done\n */\n\nexports.click = function (selector, done) {\n  debug('.click() on ' + selector);\n  this.evaluate_now(function (selector) {\n    document.activeElement.blur();\n    var element = document.querySelector(selector);\n    if (!element) {\n      throw new Error('Unable to find element by selector: ' + selector);\n    }\n    var bounding = element.getBoundingClientRect();\n    var event = new MouseEvent('click', {\n      view: document.window,\n      bubbles: true,\n      cancelable: true,\n      clientX: bounding.left + bounding.width / 2,\n      clientY: bounding.top + bounding.height / 2\n    });\n    element.dispatchEvent(event);\n  }, done, selector);\n};\n\n/**\n * Mousedown on an element.\n *\n * @param {String} selector\n * @param {Function} done\n */\n\nexports.mousedown = function (selector, done) {\n  debug('.mousedown() on ' + selector);\n  this.evaluate_now(function (selector) {\n    var element = document.querySelector(selector);\n    if (!element) {\n      throw new Error('Unable to find element by selector: ' + selector);\n    }\n    var bounding = element.getBoundingClientRect();\n    var event = new MouseEvent('mousedown', {\n      view: document.window,\n      bubbles: true,\n      cancelable: true,\n      clientX: bounding.left + bounding.width / 2,\n      clientY: bounding.top + bounding.height / 2\n    });\n    element.dispatchEvent(event);\n  }, done, selector);\n};\n\n/**\n * Mouseup on an element.\n *\n * @param {String} selector\n * @param {Function} done\n */\n\nexports.mouseup = function (selector, done) {\n  debug('.mouseup() on ' + selector);\n  this.evaluate_now(function (selector) {\n    var element = document.querySelector(selector);\n    if (!element) {\n      throw new Error('Unable to find element by selector: ' + selector);\n    }\n    var bounding = element.getBoundingClientRect();\n    var event = new MouseEvent('mouseup', {\n      view: document.window,\n      bubbles: true,\n      cancelable: true,\n      clientX: bounding.left + bounding.width / 2,\n      clientY: bounding.top + bounding.height / 2\n    });\n    element.dispatchEvent(event);\n  }, done, selector);\n};\n\n/**\n * Hover over an element.\n *\n * @param {String} selector\n * @param {Function} done\n */\n\nexports.mouseover = function (selector, done) {\n  debug('.mouseover() on ' + selector);\n  this.evaluate_now(function (selector) {\n    var element = document.querySelector(selector);\n    if (!element) {\n      throw new Error('Unable to find element by selector: ' + selector);\n    }\n    var bounding = element.getBoundingClientRect();\n    var event = new MouseEvent('mouseover', {\n      view: document.window,\n      bubbles: true,\n      cancelable: true,\n      clientX: bounding.left + bounding.width / 2,\n      clientY: bounding.top + bounding.height / 2\n    });\n    element.dispatchEvent(event);\n  }, done, selector);\n};\n\n/**\n * Release hover from an element.\n *\n * @param {String} selector\n * @param {Function} done\n */\n\nexports.mouseout = function (selector, done) {\n  debug('.mouseout() on ' + selector);\n  this.evaluate_now(function (selector) {\n    var element = document.querySelector(selector);\n    if (!element) {\n      throw new Error('Unable to find element by selector: ' + selector);\n    }\n    var event = document.createEvent('MouseEvent');\n    event.initMouseEvent('mouseout', true, true);\n    element.dispatchEvent(event);\n  }, done, selector);\n};\n\n/**\n * Helper functions for type() and insert() to focus/blur\n * so that we trigger DOM events.\n */\n\nvar focusSelector = function (done, selector) {\n  return this.evaluate_now(function (selector) {\n    document.querySelector(selector).focus();\n  }, done.bind(this), selector);\n};\nvar blurSelector = function (done, selector) {\n  return this.evaluate_now(function (selector) {\n    //it is possible the element has been removed from the DOM\n    //between the action and the call to blur the element\n    var element = document.querySelector(selector);\n    if (element) {\n      element.blur();\n    }\n  }, done.bind(this), selector);\n};\n\n/**\n * Type into an element.\n *\n * @param {String} selector\n * @param {String} text\n * @param {Function} done\n */\n\nexports.type = function () {\n  var selector = arguments[0],\n    text,\n    done;\n  if (arguments.length == 2) {\n    done = arguments[1];\n  } else {\n    text = arguments[1];\n    done = arguments[2];\n  }\n  debug('.type() %s into %s', text, selector);\n  var self = this;\n  focusSelector.bind(this)(function (err) {\n    if (err) {\n      debug('Unable to .type() into non-existent selector %s', selector);\n      return done(err);\n    }\n    var blurDone = blurSelector.bind(this, done, selector);\n    if ((text || '') == '') {\n      this.evaluate_now(function (selector) {\n        document.querySelector(selector).value = '';\n      }, blurDone, selector);\n    } else {\n      self.child.call('type', text, blurDone);\n    }\n  }, selector);\n};\n\n/**\n * Insert text\n *\n * @param {String} selector\n * @param {String} text\n * @param {Function} done\n */\n\nexports.insert = function (selector, text, done) {\n  if (arguments.length === 2) {\n    done = text;\n    text = null;\n  }\n  debug('.insert() %s into %s', text, selector);\n  var child = this.child;\n  focusSelector.bind(this)(function (err) {\n    if (err) {\n      debug('Unable to .insert() into non-existent selector %s', selector);\n      return done(err);\n    }\n    var blurDone = blurSelector.bind(this, done, selector);\n    if ((text || '') == '') {\n      this.evaluate_now(function (selector) {\n        document.querySelector(selector).value = '';\n      }, blurDone, selector);\n    } else {\n      child.call('insert', text, blurDone);\n    }\n  }, selector);\n};\n\n/**\n * Check a checkbox, fire change event\n *\n * @param {String} selector\n * @param {Function} done\n */\n\nexports.check = function (selector, done) {\n  debug('.check() ' + selector);\n  this.evaluate_now(function (selector) {\n    var element = document.querySelector(selector);\n    var event = document.createEvent('HTMLEvents');\n    element.checked = true;\n    event.initEvent('change', true, true);\n    element.dispatchEvent(event);\n  }, done, selector);\n};\n\n/*\n * Uncheck a checkbox, fire change event\n *\n * @param {String} selector\n * @param {Function} done\n */\n\nexports.uncheck = function (selector, done) {\n  debug('.uncheck() ' + selector);\n  this.evaluate_now(function (selector) {\n    var element = document.querySelector(selector);\n    var event = document.createEvent('HTMLEvents');\n    element.checked = null;\n    event.initEvent('change', true, true);\n    element.dispatchEvent(event);\n  }, done, selector);\n};\n\n/**\n * Choose an option from a select dropdown\n *\n *\n *\n * @param {String} selector\n * @param {String} option value\n * @param {Function} done\n */\n\nexports.select = function (selector, option, done) {\n  debug('.select() ' + selector);\n  this.evaluate_now(function (selector, option) {\n    var element = document.querySelector(selector);\n    var event = document.createEvent('HTMLEvents');\n    element.value = option;\n    event.initEvent('change', true, true);\n    element.dispatchEvent(event);\n  }, done, selector, option);\n};\n\n/**\n * Go back to previous url.\n *\n * @param {Function} done\n */\n\nexports.back = function (done) {\n  debug('.back()');\n  this.evaluate_now(function () {\n    window.history.back();\n  }, done);\n};\n\n/**\n * Go forward to previous url.\n *\n * @param {Function} done\n */\n\nexports.forward = function (done) {\n  debug('.forward()');\n  this.evaluate_now(function () {\n    window.history.forward();\n  }, done);\n};\n\n/**\n * Refresh the current page.\n *\n * @param {Function} done\n */\n\nexports.refresh = function (done) {\n  debug('.refresh()');\n  this.evaluate_now(function () {\n    window.location.reload();\n  }, done);\n};\n\n/**\n * Wait\n *\n * @param {...} args\n */\n\nexports.wait = function () {\n  var args = sliced(arguments);\n  var done = args[args.length - 1];\n  if (args.length < 2) {\n    debug('Not enough arguments for .wait()');\n    return done();\n  }\n  var arg = args[0];\n  if (typeof arg === 'number') {\n    debug('.wait() for ' + arg + 'ms');\n    if (arg < this.options.waitTimeout) {\n      waitms(arg, done);\n    } else {\n      waitms(this.options.waitTimeout, function () {\n        done(new Error('.wait() timed out after ' + this.options.waitTimeout + 'msec'));\n      }.bind(this));\n    }\n  } else if (typeof arg === 'string') {\n    var timeout = null;\n    if (typeof args[1] === 'number') {\n      timeout = args[1];\n    }\n    debug('.wait() for ' + arg + ' element' + (timeout ? ' or ' + timeout + 'msec' : ''));\n    waitelem.apply({\n      timeout: timeout\n    }, [this, arg, done]);\n  } else if (typeof arg === 'function') {\n    debug('.wait() for fn');\n    args.unshift(this);\n    waitfn.apply(this, args);\n  } else {\n    done();\n  }\n};\n\n/**\n * Wait for a specififed amount of time.\n *\n * @param {Number} ms\n * @param {Function} done\n */\n\nfunction waitms(ms, done) {\n  setTimeout(done, ms);\n}\n\n/**\n * Wait for a specified selector to exist.\n *\n * @param {Nightmare} self\n * @param {String} selector\n * @param {Function} done\n */\n\nfunction waitelem(self, selector, done) {\n  var elementPresent;\n  eval('elementPresent = function() {' + \"  var element = document.querySelector('\" + jsesc(selector) + \"');\" + '  return (element ? true : false);' + '};');\n  var newDone = function (err) {\n    if (err) {\n      return done(new Error(`.wait() for ${selector} timed out after ${self.options.waitTimeout}msec`));\n    }\n    done();\n  };\n  waitfn.apply(this, [self, elementPresent, newDone]);\n}\n\n/**\n * Wait until evaluated function returns true.\n *\n * @param {Nightmare} self\n * @param {Function} fn\n * @param {...} args\n * @param {Function} done\n */\n\nfunction waitfn() {\n  var softTimeout = this.timeout || null;\n  var executionTimer;\n  var softTimeoutTimer;\n  var self = arguments[0];\n  var args = sliced(arguments);\n  var done = args[args.length - 1];\n  var timeoutTimer = setTimeout(function () {\n    clearTimeout(executionTimer);\n    clearTimeout(softTimeoutTimer);\n    done(new Error(`.wait() timed out after ${self.options.waitTimeout}msec`));\n  }, self.options.waitTimeout);\n  return tick.apply(this, arguments);\n  function tick(self, fn /**, arg1, arg2..., done**/) {\n    if (softTimeout) {\n      softTimeoutTimer = setTimeout(function () {\n        clearTimeout(executionTimer);\n        clearTimeout(timeoutTimer);\n        done();\n      }, softTimeout);\n    }\n    var waitDone = function (err, result) {\n      if (result) {\n        clearTimeout(timeoutTimer);\n        clearTimeout(softTimeoutTimer);\n        return done();\n      } else if (err) {\n        clearTimeout(timeoutTimer);\n        clearTimeout(softTimeoutTimer);\n        return done(err);\n      } else {\n        executionTimer = setTimeout(function () {\n          tick.apply(self, args);\n        }, self.options.pollInterval);\n      }\n    };\n    var newArgs = [fn, waitDone].concat(args.slice(2, -1));\n    self.evaluate_now.apply(self, newArgs);\n  }\n}\n\n/**\n * Execute a function on the page.\n *\n * @param {Function} fn\n * @param {...} args\n * @param {Function} done\n */\n\nexports.evaluate = function (fn /**, arg1, arg2..., done**/) {\n  var args = sliced(arguments);\n  var done = args[args.length - 1];\n  var self = this;\n  var newDone = function () {\n    clearTimeout(timeoutTimer);\n    done.apply(self, arguments);\n  };\n  var newArgs = [fn, newDone].concat(args.slice(1, -1));\n  if (typeof fn !== 'function') {\n    return done(new Error('.evaluate() fn should be a function'));\n  }\n  debug('.evaluate() fn on the page');\n  var timeoutTimer = setTimeout(function () {\n    done(new Error(`Evaluation timed out after ${self.options.executionTimeout}msec.  Are you calling done() or resolving your promises?`));\n  }, self.options.executionTimeout);\n  this.evaluate_now.apply(this, newArgs);\n};\n\n/**\n * Inject a JavaScript or CSS file onto the page\n *\n * @param {String} type\n * @param {String} file\n * @param {Function} done\n */\n\nexports.inject = function (type, file, done) {\n  debug('.inject()-ing a file');\n  if (type === 'js') {\n    var js = fs.readFileSync(file, {\n      encoding: 'utf-8'\n    });\n    this._inject(js, done);\n  } else if (type === 'css') {\n    var css = fs.readFileSync(file, {\n      encoding: 'utf-8'\n    });\n    this.child.call('css', css, done);\n  } else {\n    debug('unsupported file type in .inject()');\n    done();\n  }\n};\n\n/**\n * Set the viewport.\n *\n * @param {Number} width\n * @param {Number} height\n * @param {Function} done\n */\n\nexports.viewport = function (width, height, done) {\n  debug('.viewport()');\n  this.child.call('size', width, height, done);\n};\n\n/**\n * Set the useragent.\n *\n * @param {String} useragent\n * @param {Function} done\n */\n\nexports.useragent = function (useragent, done) {\n  debug('.useragent() to ' + useragent);\n  this.child.call('useragent', useragent, done);\n};\n\n/**\n * Set the scroll position.\n *\n * @param {Number} x\n * @param {Number} y\n * @param {Function} done\n */\n\nexports.scrollTo = function (y, x, done) {\n  debug('.scrollTo()');\n  this.evaluate_now(function (y, x) {\n    window.scrollTo(x, y);\n  }, done, y, x);\n};\n\n/**\n * Take a screenshot.\n *\n * @param {String} path\n * @param {Object} clip\n * @param {Function} done\n */\n\nexports.screenshot = function (path, clip, done) {\n  debug('.screenshot()');\n  if (typeof path === 'function') {\n    done = path;\n    clip = undefined;\n    path = undefined;\n  } else if (typeof clip === 'function') {\n    done = clip;\n    clip = typeof path === 'string' ? undefined : path;\n    path = typeof path === 'string' ? path : undefined;\n  }\n  this.child.call('screenshot', path, clip, function (error, img) {\n    var buf = new Buffer(img.data);\n    debug('.screenshot() captured with length %s', buf.length);\n    path ? fs.writeFile(path, buf, done) : done(null, buf);\n  });\n};\n\n/**\n * Save the current file as html to disk.\n *\n * @param {String} path the full path to the file to save to\n * @param {String} saveType\n * @param {Function} done\n */\n\nexports.html = function (path, saveType, done) {\n  debug('.html()');\n  if (typeof path === 'function' && !saveType && !done) {\n    done = path;\n    saveType = undefined;\n    path = undefined;\n  } else if (typeof path === 'object' && typeof saveType === 'function' && !done) {\n    done = saveType;\n    saveType = path;\n    path = undefined;\n  } else if (typeof saveType === 'function' && !done) {\n    done = saveType;\n    saveType = undefined;\n  }\n  this.child.call('html', path, saveType, function (error) {\n    if (error) debug(error);\n    done(error);\n  });\n};\n\n/**\n * Take a pdf.\n *\n * @param {String} path\n * @param {Function} done\n */\n\nexports.pdf = function (path, options, done) {\n  debug('.pdf()');\n  if (typeof path === 'function' && !options && !done) {\n    done = path;\n    options = undefined;\n    path = undefined;\n  } else if (typeof path === 'object' && typeof options === 'function' && !done) {\n    done = options;\n    options = path;\n    path = undefined;\n  } else if (typeof options === 'function' && !done) {\n    done = options;\n    options = undefined;\n  }\n  this.child.call('pdf', path, options, function (error, pdf) {\n    if (error) debug(error);\n    var buf = new Buffer(pdf.data);\n    debug('.pdf() captured with length %s', buf.length);\n    path ? fs.writeFile(path, buf, done) : done(null, buf);\n  });\n};\n\n/**\n * Get and set cookies\n *\n * @param {String} name\n * @param {Mixed} value (optional)\n * @param {Function} done\n */\n\nexports.cookies = {};\n\n/**\n * Get a cookie\n */\n\nexports.cookies.get = function (name, done) {\n  debug('cookies.get()');\n  var query = {};\n  switch (arguments.length) {\n    case 2:\n      query = typeof name === 'string' ? {\n        name: name\n      } : name;\n      break;\n    case 1:\n      done = name;\n      break;\n  }\n  this.child.call('cookie.get', query, done);\n};\n\n/**\n * Set a cookie\n */\n\nexports.cookies.set = function (name, value, done) {\n  debug('cookies.set()');\n  var cookies = [];\n  switch (arguments.length) {\n    case 3:\n      cookies.push({\n        name: name,\n        value: value\n      });\n      break;\n    case 2:\n      cookies = [].concat(name);\n      done = value;\n      break;\n    case 1:\n      done = name;\n      break;\n  }\n  this.child.call('cookie.set', cookies, done);\n};\n\n/**\n * Clear a cookie\n */\n\nexports.cookies.clear = function (name, done) {\n  debug('cookies.clear()');\n  var cookies = [];\n  switch (arguments.length) {\n    case 2:\n      cookies = [].concat(name);\n      break;\n    case 1:\n      done = name;\n      break;\n  }\n  this.child.call('cookie.clear', cookies, done);\n};\n\n/**\n * Clear all cookies\n */\n\nexports.cookies.clearAll = function (done) {\n  this.child.call('cookie.clearAll', done);\n};\n\n/**\n * Authentication\n */\n\nexports.authentication = function (login, password, done) {\n  debug('.authentication()');\n  this.child.call('authentication', login, password, done);\n};","map":{"version":3,"names":["debug","require","sliced","jsesc","fs","exports","engineVersions","done","title","evaluate_now","document","url","location","href","path","pathname","visible","selector","elem","querySelector","offsetWidth","offsetHeight","exists","click","activeElement","blur","element","Error","bounding","getBoundingClientRect","event","MouseEvent","view","window","bubbles","cancelable","clientX","left","width","clientY","top","height","dispatchEvent","mousedown","mouseup","mouseover","mouseout","createEvent","initMouseEvent","focusSelector","focus","bind","blurSelector","type","arguments","text","length","self","err","blurDone","value","child","call","insert","check","checked","initEvent","uncheck","select","option","back","history","forward","refresh","reload","wait","args","arg","options","waitTimeout","waitms","timeout","waitelem","apply","unshift","waitfn","ms","setTimeout","elementPresent","eval","newDone","softTimeout","executionTimer","softTimeoutTimer","timeoutTimer","clearTimeout","tick","fn","waitDone","result","pollInterval","newArgs","concat","slice","evaluate","executionTimeout","inject","file","js","readFileSync","encoding","_inject","css","viewport","useragent","scrollTo","y","x","screenshot","clip","undefined","error","img","buf","Buffer","data","writeFile","html","saveType","pdf","cookies","get","name","query","set","push","clear","clearAll","authentication","login","password"],"sources":["/Users/nicolecheung/my-recipes/node_modules/nightmare/lib/actions.js"],"sourcesContent":["/**\n * Module Dependencies\n */\n\nvar debug = require('debug')('nightmare:actions')\nvar sliced = require('sliced')\nvar jsesc = require('jsesc')\nvar fs = require('fs')\n\n/**\n * Get the version info for Nightmare, Electron and Chromium.\n * @param {Function} done\n */\nexports.engineVersions = function(done) {\n  debug('.engineVersions()')\n  done(null, this.engineVersions)\n}\n\n/**\n * Get the title of the page.\n *\n * @param {Function} done\n */\n\nexports.title = function(done) {\n  debug('.title() getting it')\n  this.evaluate_now(function() {\n    return document.title\n  }, done)\n}\n\n/**\n * Get the url of the page.\n *\n * @param {Function} done\n */\n\nexports.url = function(done) {\n  debug('.url() getting it')\n  this.evaluate_now(function() {\n    return document.location.href\n  }, done)\n}\n\n/**\n * Get the path of the page.\n *\n * @param {Function} done\n */\n\nexports.path = function(done) {\n  debug('.path() getting it')\n  this.evaluate_now(function() {\n    return document.location.pathname\n  }, done)\n}\n\n/**\n * Determine if a selector is visible on a page.\n *\n * @param {String} selector\n * @param {Function} done\n */\n\nexports.visible = function(selector, done) {\n  debug('.visible() for ' + selector)\n  this.evaluate_now(\n    function(selector) {\n      var elem = document.querySelector(selector)\n      if (elem) return elem.offsetWidth > 0 && elem.offsetHeight > 0\n      else return false\n    },\n    done,\n    selector\n  )\n}\n\n/**\n * Determine if a selector exists on a page.\n *\n * @param {String} selector\n * @param {Function} done\n */\n\nexports.exists = function(selector, done) {\n  debug('.exists() for ' + selector)\n  this.evaluate_now(\n    function(selector) {\n      return document.querySelector(selector) !== null\n    },\n    done,\n    selector\n  )\n}\n\n/**\n * Click an element.\n *\n * @param {String} selector\n * @param {Function} done\n */\n\nexports.click = function(selector, done) {\n  debug('.click() on ' + selector)\n  this.evaluate_now(\n    function(selector) {\n      document.activeElement.blur()\n      var element = document.querySelector(selector)\n      if (!element) {\n        throw new Error('Unable to find element by selector: ' + selector)\n      }\n      var bounding = element.getBoundingClientRect()\n      var event = new MouseEvent('click', {\n        view: document.window,\n        bubbles: true,\n        cancelable: true,\n        clientX: bounding.left + bounding.width / 2,\n        clientY: bounding.top + bounding.height / 2\n      })\n      element.dispatchEvent(event)\n    },\n    done,\n    selector\n  )\n}\n\n/**\n * Mousedown on an element.\n *\n * @param {String} selector\n * @param {Function} done\n */\n\nexports.mousedown = function(selector, done) {\n  debug('.mousedown() on ' + selector)\n  this.evaluate_now(\n    function(selector) {\n      var element = document.querySelector(selector)\n      if (!element) {\n        throw new Error('Unable to find element by selector: ' + selector)\n      }\n      var bounding = element.getBoundingClientRect()\n      var event = new MouseEvent('mousedown', {\n        view: document.window,\n        bubbles: true,\n        cancelable: true,\n        clientX: bounding.left + bounding.width / 2,\n        clientY: bounding.top + bounding.height / 2\n      })\n      element.dispatchEvent(event)\n    },\n    done,\n    selector\n  )\n}\n\n/**\n * Mouseup on an element.\n *\n * @param {String} selector\n * @param {Function} done\n */\n\nexports.mouseup = function(selector, done) {\n  debug('.mouseup() on ' + selector)\n  this.evaluate_now(\n    function(selector) {\n      var element = document.querySelector(selector)\n      if (!element) {\n        throw new Error('Unable to find element by selector: ' + selector)\n      }\n      var bounding = element.getBoundingClientRect()\n      var event = new MouseEvent('mouseup', {\n        view: document.window,\n        bubbles: true,\n        cancelable: true,\n        clientX: bounding.left + bounding.width / 2,\n        clientY: bounding.top + bounding.height / 2\n      })\n      element.dispatchEvent(event)\n    },\n    done,\n    selector\n  )\n}\n\n/**\n * Hover over an element.\n *\n * @param {String} selector\n * @param {Function} done\n */\n\nexports.mouseover = function(selector, done) {\n  debug('.mouseover() on ' + selector)\n  this.evaluate_now(\n    function(selector) {\n      var element = document.querySelector(selector)\n      if (!element) {\n        throw new Error('Unable to find element by selector: ' + selector)\n      }\n      var bounding = element.getBoundingClientRect()\n      var event = new MouseEvent('mouseover', {\n        view: document.window,\n        bubbles: true,\n        cancelable: true,\n        clientX: bounding.left + bounding.width / 2,\n        clientY: bounding.top + bounding.height / 2\n      })\n      element.dispatchEvent(event)\n    },\n    done,\n    selector\n  )\n}\n\n/**\n * Release hover from an element.\n *\n * @param {String} selector\n * @param {Function} done\n */\n\nexports.mouseout = function(selector, done) {\n  debug('.mouseout() on ' + selector)\n  this.evaluate_now(\n    function(selector) {\n      var element = document.querySelector(selector)\n      if (!element) {\n        throw new Error('Unable to find element by selector: ' + selector)\n      }\n      var event = document.createEvent('MouseEvent')\n      event.initMouseEvent('mouseout', true, true)\n      element.dispatchEvent(event)\n    },\n    done,\n    selector\n  )\n}\n\n/**\n * Helper functions for type() and insert() to focus/blur\n * so that we trigger DOM events.\n */\n\nvar focusSelector = function(done, selector) {\n  return this.evaluate_now(\n    function(selector) {\n      document.querySelector(selector).focus()\n    },\n    done.bind(this),\n    selector\n  )\n}\n\nvar blurSelector = function(done, selector) {\n  return this.evaluate_now(\n    function(selector) {\n      //it is possible the element has been removed from the DOM\n      //between the action and the call to blur the element\n      var element = document.querySelector(selector)\n      if (element) {\n        element.blur()\n      }\n    },\n    done.bind(this),\n    selector\n  )\n}\n\n/**\n * Type into an element.\n *\n * @param {String} selector\n * @param {String} text\n * @param {Function} done\n */\n\nexports.type = function() {\n  var selector = arguments[0],\n    text,\n    done\n  if (arguments.length == 2) {\n    done = arguments[1]\n  } else {\n    text = arguments[1]\n    done = arguments[2]\n  }\n\n  debug('.type() %s into %s', text, selector)\n  var self = this\n\n  focusSelector.bind(this)(function(err) {\n    if (err) {\n      debug('Unable to .type() into non-existent selector %s', selector)\n      return done(err)\n    }\n\n    var blurDone = blurSelector.bind(this, done, selector)\n    if ((text || '') == '') {\n      this.evaluate_now(\n        function(selector) {\n          document.querySelector(selector).value = ''\n        },\n        blurDone,\n        selector\n      )\n    } else {\n      self.child.call('type', text, blurDone)\n    }\n  }, selector)\n}\n\n/**\n * Insert text\n *\n * @param {String} selector\n * @param {String} text\n * @param {Function} done\n */\n\nexports.insert = function(selector, text, done) {\n  if (arguments.length === 2) {\n    done = text\n    text = null\n  }\n\n  debug('.insert() %s into %s', text, selector)\n  var child = this.child\n\n  focusSelector.bind(this)(function(err) {\n    if (err) {\n      debug('Unable to .insert() into non-existent selector %s', selector)\n      return done(err)\n    }\n\n    var blurDone = blurSelector.bind(this, done, selector)\n    if ((text || '') == '') {\n      this.evaluate_now(\n        function(selector) {\n          document.querySelector(selector).value = ''\n        },\n        blurDone,\n        selector\n      )\n    } else {\n      child.call('insert', text, blurDone)\n    }\n  }, selector)\n}\n\n/**\n * Check a checkbox, fire change event\n *\n * @param {String} selector\n * @param {Function} done\n */\n\nexports.check = function(selector, done) {\n  debug('.check() ' + selector)\n  this.evaluate_now(\n    function(selector) {\n      var element = document.querySelector(selector)\n      var event = document.createEvent('HTMLEvents')\n      element.checked = true\n      event.initEvent('change', true, true)\n      element.dispatchEvent(event)\n    },\n    done,\n    selector\n  )\n}\n\n/*\n * Uncheck a checkbox, fire change event\n *\n * @param {String} selector\n * @param {Function} done\n */\n\nexports.uncheck = function(selector, done) {\n  debug('.uncheck() ' + selector)\n  this.evaluate_now(\n    function(selector) {\n      var element = document.querySelector(selector)\n      var event = document.createEvent('HTMLEvents')\n      element.checked = null\n      event.initEvent('change', true, true)\n      element.dispatchEvent(event)\n    },\n    done,\n    selector\n  )\n}\n\n/**\n * Choose an option from a select dropdown\n *\n *\n *\n * @param {String} selector\n * @param {String} option value\n * @param {Function} done\n */\n\nexports.select = function(selector, option, done) {\n  debug('.select() ' + selector)\n  this.evaluate_now(\n    function(selector, option) {\n      var element = document.querySelector(selector)\n      var event = document.createEvent('HTMLEvents')\n      element.value = option\n      event.initEvent('change', true, true)\n      element.dispatchEvent(event)\n    },\n    done,\n    selector,\n    option\n  )\n}\n\n/**\n * Go back to previous url.\n *\n * @param {Function} done\n */\n\nexports.back = function(done) {\n  debug('.back()')\n  this.evaluate_now(function() {\n    window.history.back()\n  }, done)\n}\n\n/**\n * Go forward to previous url.\n *\n * @param {Function} done\n */\n\nexports.forward = function(done) {\n  debug('.forward()')\n  this.evaluate_now(function() {\n    window.history.forward()\n  }, done)\n}\n\n/**\n * Refresh the current page.\n *\n * @param {Function} done\n */\n\nexports.refresh = function(done) {\n  debug('.refresh()')\n  this.evaluate_now(function() {\n    window.location.reload()\n  }, done)\n}\n\n/**\n * Wait\n *\n * @param {...} args\n */\n\nexports.wait = function() {\n  var args = sliced(arguments)\n  var done = args[args.length - 1]\n  if (args.length < 2) {\n    debug('Not enough arguments for .wait()')\n    return done()\n  }\n\n  var arg = args[0]\n  if (typeof arg === 'number') {\n    debug('.wait() for ' + arg + 'ms')\n    if (arg < this.options.waitTimeout) {\n      waitms(arg, done)\n    } else {\n      waitms(\n        this.options.waitTimeout,\n        function() {\n          done(\n            new Error(\n              '.wait() timed out after ' + this.options.waitTimeout + 'msec'\n            )\n          )\n        }.bind(this)\n      )\n    }\n  } else if (typeof arg === 'string') {\n    var timeout = null\n    if (typeof args[1] === 'number') {\n      timeout = args[1]\n    }\n    debug(\n      '.wait() for ' +\n        arg +\n        ' element' +\n        (timeout ? ' or ' + timeout + 'msec' : '')\n    )\n    waitelem.apply({ timeout: timeout }, [this, arg, done])\n  } else if (typeof arg === 'function') {\n    debug('.wait() for fn')\n    args.unshift(this)\n    waitfn.apply(this, args)\n  } else {\n    done()\n  }\n}\n\n/**\n * Wait for a specififed amount of time.\n *\n * @param {Number} ms\n * @param {Function} done\n */\n\nfunction waitms(ms, done) {\n  setTimeout(done, ms)\n}\n\n/**\n * Wait for a specified selector to exist.\n *\n * @param {Nightmare} self\n * @param {String} selector\n * @param {Function} done\n */\n\nfunction waitelem(self, selector, done) {\n  var elementPresent\n  eval(\n    'elementPresent = function() {' +\n      \"  var element = document.querySelector('\" +\n      jsesc(selector) +\n      \"');\" +\n      '  return (element ? true : false);' +\n      '};'\n  )\n  var newDone = function(err) {\n    if (err) {\n      return done(\n        new Error(\n          `.wait() for ${selector} timed out after ${\n            self.options.waitTimeout\n          }msec`\n        )\n      )\n    }\n    done()\n  }\n  waitfn.apply(this, [self, elementPresent, newDone])\n}\n\n/**\n * Wait until evaluated function returns true.\n *\n * @param {Nightmare} self\n * @param {Function} fn\n * @param {...} args\n * @param {Function} done\n */\n\nfunction waitfn() {\n  var softTimeout = this.timeout || null\n  var executionTimer\n  var softTimeoutTimer\n  var self = arguments[0]\n\n  var args = sliced(arguments)\n  var done = args[args.length - 1]\n\n  var timeoutTimer = setTimeout(function() {\n    clearTimeout(executionTimer)\n    clearTimeout(softTimeoutTimer)\n    done(new Error(`.wait() timed out after ${self.options.waitTimeout}msec`))\n  }, self.options.waitTimeout)\n  return tick.apply(this, arguments)\n\n  function tick(self, fn /**, arg1, arg2..., done**/) {\n    if (softTimeout) {\n      softTimeoutTimer = setTimeout(function() {\n        clearTimeout(executionTimer)\n        clearTimeout(timeoutTimer)\n        done()\n      }, softTimeout)\n    }\n\n    var waitDone = function(err, result) {\n      if (result) {\n        clearTimeout(timeoutTimer)\n        clearTimeout(softTimeoutTimer)\n        return done()\n      } else if (err) {\n        clearTimeout(timeoutTimer)\n        clearTimeout(softTimeoutTimer)\n        return done(err)\n      } else {\n        executionTimer = setTimeout(function() {\n          tick.apply(self, args)\n        }, self.options.pollInterval)\n      }\n    }\n    var newArgs = [fn, waitDone].concat(args.slice(2, -1))\n    self.evaluate_now.apply(self, newArgs)\n  }\n}\n\n/**\n * Execute a function on the page.\n *\n * @param {Function} fn\n * @param {...} args\n * @param {Function} done\n */\n\nexports.evaluate = function(fn /**, arg1, arg2..., done**/) {\n  var args = sliced(arguments)\n  var done = args[args.length - 1]\n  var self = this\n  var newDone = function() {\n    clearTimeout(timeoutTimer)\n    done.apply(self, arguments)\n  }\n  var newArgs = [fn, newDone].concat(args.slice(1, -1))\n  if (typeof fn !== 'function') {\n    return done(new Error('.evaluate() fn should be a function'))\n  }\n  debug('.evaluate() fn on the page')\n  var timeoutTimer = setTimeout(function() {\n    done(\n      new Error(\n        `Evaluation timed out after ${\n          self.options.executionTimeout\n        }msec.  Are you calling done() or resolving your promises?`\n      )\n    )\n  }, self.options.executionTimeout)\n  this.evaluate_now.apply(this, newArgs)\n}\n\n/**\n * Inject a JavaScript or CSS file onto the page\n *\n * @param {String} type\n * @param {String} file\n * @param {Function} done\n */\n\nexports.inject = function(type, file, done) {\n  debug('.inject()-ing a file')\n  if (type === 'js') {\n    var js = fs.readFileSync(file, { encoding: 'utf-8' })\n    this._inject(js, done)\n  } else if (type === 'css') {\n    var css = fs.readFileSync(file, { encoding: 'utf-8' })\n    this.child.call('css', css, done)\n  } else {\n    debug('unsupported file type in .inject()')\n    done()\n  }\n}\n\n/**\n * Set the viewport.\n *\n * @param {Number} width\n * @param {Number} height\n * @param {Function} done\n */\n\nexports.viewport = function(width, height, done) {\n  debug('.viewport()')\n  this.child.call('size', width, height, done)\n}\n\n/**\n * Set the useragent.\n *\n * @param {String} useragent\n * @param {Function} done\n */\n\nexports.useragent = function(useragent, done) {\n  debug('.useragent() to ' + useragent)\n  this.child.call('useragent', useragent, done)\n}\n\n/**\n * Set the scroll position.\n *\n * @param {Number} x\n * @param {Number} y\n * @param {Function} done\n */\n\nexports.scrollTo = function(y, x, done) {\n  debug('.scrollTo()')\n  this.evaluate_now(\n    function(y, x) {\n      window.scrollTo(x, y)\n    },\n    done,\n    y,\n    x\n  )\n}\n\n/**\n * Take a screenshot.\n *\n * @param {String} path\n * @param {Object} clip\n * @param {Function} done\n */\n\nexports.screenshot = function(path, clip, done) {\n  debug('.screenshot()')\n  if (typeof path === 'function') {\n    done = path\n    clip = undefined\n    path = undefined\n  } else if (typeof clip === 'function') {\n    done = clip\n    clip = typeof path === 'string' ? undefined : path\n    path = typeof path === 'string' ? path : undefined\n  }\n  this.child.call('screenshot', path, clip, function(error, img) {\n    var buf = new Buffer(img.data)\n    debug('.screenshot() captured with length %s', buf.length)\n    path ? fs.writeFile(path, buf, done) : done(null, buf)\n  })\n}\n\n/**\n * Save the current file as html to disk.\n *\n * @param {String} path the full path to the file to save to\n * @param {String} saveType\n * @param {Function} done\n */\n\nexports.html = function(path, saveType, done) {\n  debug('.html()')\n  if (typeof path === 'function' && !saveType && !done) {\n    done = path\n    saveType = undefined\n    path = undefined\n  } else if (\n    typeof path === 'object' &&\n    typeof saveType === 'function' &&\n    !done\n  ) {\n    done = saveType\n    saveType = path\n    path = undefined\n  } else if (typeof saveType === 'function' && !done) {\n    done = saveType\n    saveType = undefined\n  }\n  this.child.call('html', path, saveType, function(error) {\n    if (error) debug(error)\n    done(error)\n  })\n}\n\n/**\n * Take a pdf.\n *\n * @param {String} path\n * @param {Function} done\n */\n\nexports.pdf = function(path, options, done) {\n  debug('.pdf()')\n  if (typeof path === 'function' && !options && !done) {\n    done = path\n    options = undefined\n    path = undefined\n  } else if (\n    typeof path === 'object' &&\n    typeof options === 'function' &&\n    !done\n  ) {\n    done = options\n    options = path\n    path = undefined\n  } else if (typeof options === 'function' && !done) {\n    done = options\n    options = undefined\n  }\n  this.child.call('pdf', path, options, function(error, pdf) {\n    if (error) debug(error)\n    var buf = new Buffer(pdf.data)\n    debug('.pdf() captured with length %s', buf.length)\n    path ? fs.writeFile(path, buf, done) : done(null, buf)\n  })\n}\n\n/**\n * Get and set cookies\n *\n * @param {String} name\n * @param {Mixed} value (optional)\n * @param {Function} done\n */\n\nexports.cookies = {}\n\n/**\n * Get a cookie\n */\n\nexports.cookies.get = function(name, done) {\n  debug('cookies.get()')\n  var query = {}\n\n  switch (arguments.length) {\n    case 2:\n      query = typeof name === 'string' ? { name: name } : name\n      break\n    case 1:\n      done = name\n      break\n  }\n\n  this.child.call('cookie.get', query, done)\n}\n\n/**\n * Set a cookie\n */\n\nexports.cookies.set = function(name, value, done) {\n  debug('cookies.set()')\n  var cookies = []\n\n  switch (arguments.length) {\n    case 3:\n      cookies.push({\n        name: name,\n        value: value\n      })\n      break\n    case 2:\n      cookies = [].concat(name)\n      done = value\n      break\n    case 1:\n      done = name\n      break\n  }\n\n  this.child.call('cookie.set', cookies, done)\n}\n\n/**\n * Clear a cookie\n */\n\nexports.cookies.clear = function(name, done) {\n  debug('cookies.clear()')\n  var cookies = []\n\n  switch (arguments.length) {\n    case 2:\n      cookies = [].concat(name)\n      break\n    case 1:\n      done = name\n      break\n  }\n\n  this.child.call('cookie.clear', cookies, done)\n}\n\n/**\n * Clear all cookies\n */\n\nexports.cookies.clearAll = function(done) {\n  this.child.call('cookie.clearAll', done)\n}\n\n/**\n * Authentication\n */\n\nexports.authentication = function(login, password, done) {\n  debug('.authentication()')\n  this.child.call('authentication', login, password, done)\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}